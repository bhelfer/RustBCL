---------------------------------------------------------------------------------------------------

srun -N 8 -n $((8 * 32)) ./target/release/main $((2**23 / (8 * 32)))

old one :

scattering data in 9.769191ms
local sorting in 2.066917ms
choosing local pivots in 31.885µs
gather local pivots to rank 0 in 158.728µs
sort all pivots in rank 0 in 12.913886ms
partitioning by pivots (spare many empty spaces) in 258.793369ms
exchange local buckets in 445.187954ms
rearrange buffers in 1.36759ms
rearranged buffers local sorting in 1.8992ms
gathering sorted buckets to rank 0 in 5.771499ms
rearraging buffers in 133.508281ms
total_time = 871.588023ms

new one:

scattering data in 9.399088ms
local sorting in 2.138107ms
choosing local pivots in 17.949µs
gather local pivots to rank 0 in 244.933µs
sort all pivots in rank 0 in 12.727471ms
partitioning by pivots (spare many empty spaces) in 276.313895ms
exchange local buckets in 400.961862ms
rearrange buffers in 848.204µs
rearranged buffers local sorting in 2.175113ms
gathering sorted buckets to rank 0 in 5.79871ms
rearraging buffers in 54.678312ms
total_time = 765.415914ms

---------------------------------------------------------------------------------------------------
srun -N 1 -n $((1 * 32)) ./target/release/main $((2**23 / (1 * 32)))

old one :

scattering data in 40.074446ms
local sorting in 18.597146ms
choosing local pivots in 7.966µs
gather local pivots to rank 0 in 36.934µs
sort all pivots in rank 0 in 9.15281ms
partitioning by pivots (spare many empty spaces) in 9.265029ms
exchange local buckets in 71.106354ms
rearrange buffers in 7.690095ms
rearranged buffers local sorting in 10.654532ms
gathering sorted buckets to rank 0 in 11.474154ms
rearraging buffers in 135.12082ms
total_time = 313.30659ms

new one:

scattering data in 40.152916ms
local sorting in 18.873241ms
choosing local pivots in 6.139µs
gather local pivots to rank 0 in 137.983µs
sort all pivots in rank 0 in 8.954619ms
partitioning by pivots (spare many empty spaces) in 6.836171ms
exchange local buckets in 74.313857ms
rearrange buffers in 2.214844ms
rearranged buffers local sorting in 10.830197ms
gathering sorted buckets to rank 0 in 11.848329ms
rearraging buffers in 55.247279ms
total_time = 229.584905ms

---------------------------------------------------------------------------------------------------

srun -N 1 -n 1 ./target/release/main $((2**23))

old one :

scattering data in 2.222293ms
local sorting in 585.75652ms
choosing local pivots in 1.001µs
gather local pivots to rank 0 in 1.038µs
sort all pivots in rank 0 in 414.857µs
partitioning by pivots (spare many empty spaces) in 97.904794ms
exchange local buckets in 3.317298ms
rearrange buffers in 182.173869ms
rearranged buffers local sorting in 33.245599ms
gathering sorted buckets to rank 0 in 7.496684ms
rearraging buffers in 105.824855ms
total_time = 1.018489745s

new one:

scattering data in 2.455484ms
local sorting in 595.277783ms
choosing local pivots in 1.548µs
gather local pivots to rank 0 in 2.663µs
sort all pivots in rank 0 in 377.843µs
partitioning by pivots (spare many empty spaces) in 31.175255ms
exchange local buckets in 3.232855ms
rearrange buffers in 49.963498ms
rearranged buffers local sorting in 34.28067ms
gathering sorted buckets to rank 0 in 8.274556ms
rearraging buffers in 44.594445ms
total_time = 769.773825ms

---------------------------------------------------------------------------------------------------

srun -N 1 -n 8 ./target/release/main $((2**23 / 8))

old one :

scattering data in 34.540781ms
local sorting in 77.216723ms
choosing local pivots in 3.84µs
gather local pivots to rank 0 in 27.841µs
sort all pivots in rank 0 in 2.114736ms
partitioning by pivots (spare many empty spaces) in 31.5699ms
exchange local buckets in 43.391689ms
rearrange buffers in 26.979825ms
rearranged buffers local sorting in 34.433918ms
gathering sorted buckets to rank 0 in 11.825041ms
rearraging buffers in 122.92454ms
total_time = 385.173909ms

new one:

scattering data in 34.498649ms
local sorting in 78.119375ms
choosing local pivots in 2.562µs
gather local pivots to rank 0 in 58.186µs
sort all pivots in rank 0 in 2.130924ms
partitioning by pivots (spare many empty spaces) in 23.635155ms
exchange local buckets in 40.85741ms
rearrange buffers in 7.73114ms
rearranged buffers local sorting in 34.588097ms
gathering sorted buckets to rank 0 in 11.467244ms
rearraging buffers in 50.922738ms
total_time = 284.164923ms
